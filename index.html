<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¢œè‰²é…å¯¹æŒ‘æˆ˜ - Color Game</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/drag-drop-touch/1.1.0/dragdroptouch.js"></script>
    <style>
        body { font-family: 'PingFang SC', sans-serif; background-color: #fff9c4; text-align: center; margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; }
        .dog-section img { width: 180px; filter: drop-shadow(5px 5px 10px rgba(0,0,0,0.1)); }
        h1 { color: #5d4037; }

        /* æ”¾ç½®æ¡†åŒºåŸŸ */
        .game-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-top: 20px; }
        @media (max-width: 700px) { .game-grid { grid-template-columns: repeat(2, 1fr); } }

        .slot { border: 3px dashed #bcaaa4; border-radius: 15px; padding: 10px; background: white; transition: 0.3s; min-height: 120px; }
        /* æ‹–æ‹½æ‚¬åœæ—¶çš„æ•ˆæœ */
        .slot.drag-over { background-color: #f0f0f0; border-color: #795548; }
        .slot img { width: 90px; height: auto; pointer-events: none; }
        .slot.correct { border: 3px solid #4caf50; background-color: #e8f5e9; }
        .label-text { margin-top: 10px; font-weight: bold; color: #2e7d32; font-size: 1.1em; min-height: 1.2em; }

        /* å•è¯åº“åŒºåŸŸ */
        .word-bank { margin-top: 40px; display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; padding: 20px; background: white; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .word { background: #795548; color: white; padding: 10px 18px; border-radius: 10px; cursor: grab; font-size: 1.1em; box-shadow: 0 4px #5d4037; user-select: none; }
        .word:active { cursor: grabbing; }
        .word.hidden { visibility: hidden; } /* åŒ¹é…æˆåŠŸåéšè—å•è¯ */

        #success-msg { font-size: 2em; color: #d32f2f; font-weight: bold; margin-top: 20px; height: 50px; }
    </style>
</head>
<body>

<div class="container">
    <div class="dog-section">
        <img src="dog.png" alt="å°ç‹—"> 
        <h1>ğŸ¨ é¢œè‰²é…å¯¹æŒ‘æˆ˜ ğŸ¶</h1>
    </div>

    <div id="success-msg"></div>
    <div class="game-grid" id="slots"></div>
    <div class="word-bank" id="words"></div>
</div>

<script>
    // 1. é…ç½®æ•°æ®ï¼šè¿™é‡Œçš„ file å¿…é¡»å’Œä½ ä¸Šä¼ åˆ° GitHub çš„å›¾ç‰‡åå®Œå…¨ä¸€è‡´
    const colorData = [
        { name: 'çº¢è‰²', py: 'hÃ³ng sÃ¨', file: 'red.png' },
        { name: 'ç»¿è‰²', py: 'lÇœ sÃ¨', file: 'green.png' },
        { name: 'è“è‰²', py: 'lÃ¡n sÃ¨', file: 'blue.png' },
        { name: 'é»„è‰²', py: 'huÃ¡ng sÃ¨', file: 'yellow.png' },
        { name: 'é»‘è‰²', py: 'hÄ“i sÃ¨', file: 'black.png' },
        { name: 'ç™½è‰²', py: 'bÃ¡i sÃ¨', file: 'white.png' },
        { name: 'æ£•è‰²', py: 'zÅng sÃ¨', file: 'brown.png' },
        { name: 'ç´«è‰²', py: 'zÇ sÃ¨', file: 'purple.png' },
        { name: 'ç²‰è‰²', py: 'fÄ›n sÃ¨', file: 'pink.png' },
        { name: 'æ©™è‰²', py: 'chÃ©ng sÃ¨', file: 'orange.png' }
    ];

    const slotsContainer = document.getElementById('slots');
    const wordsContainer = document.getElementById('words');
    let matchedCount = 0;

    // 2. ç”Ÿæˆå›¾ç‰‡æ”¾ç½®æ¡† (æ‰“ä¹±é¡ºåº)
    [...colorData].sort(() => Math.random() - 0.5).forEach(item => {
        const slot = document.createElement('div');
        slot.className = 'slot';
        slot.dataset.target = item.name;
        slot.innerHTML = `<img src="${item.file}"><div class="label-text" id="label-${item.name}"></div>`;
        
        // åŠ¨ä½œï¼šæ‹–æ‹½ç»è¿‡
        slot.addEventListener('dragover', (e) => {
            e.preventDefault();
            slot.classList.add('drag-over');
        });

        // åŠ¨ä½œï¼šæ‹–æ‹½ç¦»å¼€
        slot.addEventListener('dragleave', () => {
            slot.classList.remove('drag-over');
        });

        // åŠ¨ä½œï¼šæ”¾ä¸‹å•è¯
        slot.addEventListener('drop', (e) => {
            e.preventDefault();
            slot.classList.remove('drag-over');
            const wordName = e.dataTransfer.getData('text');
            
            if(wordName === item.name) {
                // åŒ¹é…æ­£ç¡®
                slot.classList.add('correct');
                document.getElementById('label-' + wordName).innerText = wordName;
                document.getElementById('word-' + wordName).classList.add('hidden');
                matchedCount++;
                if(matchedCount === colorData.length) {
                    document.getElementById('success-msg').innerText = "ğŸŠ å¤ªæ£’äº†ï¼ä½ å…¨éƒ½æ‰¾å¯¹äº†ï¼ğŸŒŸ";
                }
            } else {
                // åŒ¹é…é”™è¯¯æ—¶çš„åé¦ˆï¼ˆå¯é€‰ï¼‰
                slot.style.borderColor = "red";
                setTimeout(() => slot.style.borderColor = "", 500);
            }
        });
        slotsContainer.appendChild(slot);
    });

    // 3. ç”Ÿæˆå•è¯åº“ (æ‰“ä¹±é¡ºåº)
    [...colorData].sort(() => Math.random() - 0.5).forEach(item => {
        const word = document.createElement('div');
        word.className = 'word';
        word.id = 'word-' + item.name;
        word.draggable = true; // å¼€å¯æ‹–æ‹½å±æ€§
        word.innerHTML = `<span class="pinyin">${item.py}</span>${item.name}`;
        
        // åŠ¨ä½œï¼šå¼€å§‹æ‹–æ‹½
        word.addEventListener('dragstart', (e) => {
            e.dataTransfer.setData('text', item.name);
        });
        wordsContainer.appendChild(word);
    });
</script>

</body>
</html>
